server {
    listen 80;
    server_name localhost;

    # Health check endpoint
    location /health {
        add_header Content-Type application/json;
        return 200 '{"status":"ok","service":"embeddings-service","version":"1.0.0"}';
    }

    # Mock embeddings endpoint
    location /embeddings {
        add_header Content-Type application/json;
        return 200 '{"embeddings":[[0.1,0.2,0.3,0.4,0.5]],"model":"mock-embeddings","usage":{"prompt_tokens":10,"total_tokens":10}}';
    }

    # Mock similarity search
    location /search {
        add_header Content-Type application/json;
        return 200 '{"results":[{"id":"doc1","score":0.95,"content":"Mock document content"}],"total":1}';
    }

    # Default response
    location / {
        add_header Content-Type application/json;
        return 200 '{"service":"mock-embeddings","status":"running","endpoints":["/health","/embeddings","/search"]}';
    }
}